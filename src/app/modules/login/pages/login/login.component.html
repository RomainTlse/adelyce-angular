<div class="app--login">
  <div class="app--login--content">
    <p-card>
      <div class="flex flex-col gap-3 items-center text-center">
        <div class="w-full flex justify-center m-5">
          <img alt="logo" height="50" src="images/angular.svg" width="50"/>
        </div>
        <p class="m-2 text-2xl">Bienvenue ðŸ‘‹</p>
        <p class="m-2 text-lg w-96">
          Veuillez vous connecter Ã  votre compte pour commencer l'aventure
        </p>
        <form (ngSubmit)="login()" [formGroup]="loginForm">
          <p-floatlabel class="w-full" variant="on">
            <input autocomplete="off" class="w-full" formControlName="email" id="mail" pInputText/>
            <label for="mail">Mail</label>
          </p-floatlabel>
          @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
            <div class="error">
              @if (loginForm.get('email')?.hasError('required')) {
                <small>L'email est requis.</small>
              }
              @if (loginForm.get('email')?.hasError('email')) {
                <small>Veuillez entrer un email valide.</small>
              }
            </div>
          }
          <p-floatlabel class="w-full" variant="on">
            <p-password [toggleMask]="true" formControlName="password" id="password" inputId="password"/>
            <label for="pwd">Mot de passe</label>
          </p-floatlabel>
          @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
            <div class="error">
              @if (loginForm.get('password')?.hasError('required')) {
                <small>Le mot de passe est requis.</small>
              }
            </div>
          }
          <div class="m-4">
            <p-button [disabled]="loginForm.invalid" label="Connexion" type="submit"/>
          </div>
        </form>
        <div class="gap-5 flex items-center">
          Vous n'avez pas encore de compte ?
          <a href="/register">
            <p-button [link]="true" label="CrÃ©ez un compte"/>
          </a>
        </div>
      </div>
      <div class="text-red-500">
        {{ errorMessage }}
      </div>
    </p-card>
  </div>
</div>
